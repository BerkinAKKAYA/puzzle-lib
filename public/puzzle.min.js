!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=7)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.GREY="#7f8c8d",e.GREEN="#2ecc71",e.YELLOW="#f39c12",e.RED="#c0392b",e.BLUE="#3498db"}(n.LOG_COLORS||(n.LOG_COLORS={})),function(e){e.INFO="info",e.ERROR="error",e.WARN="warn",e.LOG="log"}(n.LOG_TYPES||(n.LOG_TYPES={})),function(e){e[e.ON_PAGE_LOAD=0]="ON_PAGE_LOAD",e[e.ON_FRAGMENT_RENDERED=1]="ON_FRAGMENT_RENDERED",e[e.ON_CONFIG=2]="ON_CONFIG",e[e.ON_DEBUG_CONFIG=3]="ON_DEBUG_CONFIG",e[e.ON_VARIABLES=4]="ON_VARIABLES",e[e.ON_RENDER_START=5]="ON_RENDER_START"}(n.EVENT||(n.EVENT={})),function(e){e.HTML_TRANSFER_STARTED="html-transfer-start",e.HTML_TRANSFER_ENDED="html-transfer-end",e.FRAGMENT_RENDER_START="fragment-render-started-",e.FRAGMENT_RENDER_END="fragment-render-ended-",e.FRAGMENT_MEASUREMENT="fragment-total-",e.FRAGMENT_MEASUREMENT_RESPONSE_START_TIME="fragment-response-start-"}(n.TIME_LABELS||(n.TIME_LABELS={})),function(e){e[e.ON_RENDER_START=0]="ON_RENDER_START",e[e.ON_FRAGMENT_RENDER=1]="ON_FRAGMENT_RENDER",e[e.ON_PAGE_RENDER=2]="ON_PAGE_RENDER"}(n.RESOURCE_LOADING_TYPE||(n.RESOURCE_LOADING_TYPE={})),function(e){e[e.CSS=0]="CSS",e[e.JS=1]="JS"}(n.RESOURCE_TYPE||(n.RESOURCE_TYPE={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){};n.Module=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(3);n.on=function(e){return function(n,t,o){return r.PuzzleJs.subscribe(e,o.value.bind(n)),o}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.subscribe=function(n,t){e.__LISTENERS[n]?e.__LISTENERS[n].push(t):e.__LISTENERS[n]=[t]},e.emit=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e.__LISTENERS[n])for(var o=0,i=e.__LISTENERS[n];o<i.length;o++){var u=i[o];u.apply(null,t)}},e.clearListeners=function(){e.__LISTENERS={}},e.inject=function(n){for(var t in n)e[t]=n[t]},e.LOGO="https://image.ibb.co/jM29on/puzzlelogo.png",e.__LISTENERS={},e}();n.PuzzleJs=r},,function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__decorate||function(e,n,t,r){var o,i=arguments.length,u=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(n,t,u):o(n,t))||u);return i>3&&u&&Object.defineProperty(n,t,u),u},u=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)};Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),c=t(0),s=t(2),f=t(6),d=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),Object.defineProperty(n,"_pageConfiguration",{get:function(){return this.__pageConfiguration},set:function(e){this.__pageConfiguration=e},enumerable:!0,configurable:!0}),n.config=function(e){(n.__pageConfiguration=JSON.parse(e),this.isIntersectionObserverSupported())&&(n.__pageConfiguration.fragments.some((function(e){return e.clientAsync}))&&(this.observer=new IntersectionObserver(this.onIntersection.bind(this))))},n.load=function(e,t,r){t&&r&&n.__replace(t,r)},n.loadAssetsOnFragment=function(e){var t=n.__pageConfiguration.assets.filter((function(n){return n.fragment===e&&n.loadMethod===c.RESOURCE_LOADING_TYPE.ON_FRAGMENT_RENDER&&!n.preLoaded})),r=n.createLoadQueue(t);f.AssetHelper.loadJsSeries(r)},n.pageLoaded=function(){var e=n.__pageConfiguration.assets.filter((function(e){return e.loadMethod===c.RESOURCE_LOADING_TYPE.ON_PAGE_RENDER&&!e.preLoaded})),t=n.createLoadQueue(e);f.AssetHelper.loadJsSeries(t)},n.asyncComponentRender=function(){var e=this;n.__pageConfiguration.fragments.filter((function(e){return e.clientAsync})).forEach((function(n){if(e.observer){var t=document.querySelector(e.getFragmentContainerSelector(n,"main"));t&&e.observer.observe(t)}else e.asyncLoadFragment(n)}))},n.asyncLoadFragment=function(e){var n=this,t=this.prepareQueryString(e.attributes);fetch(""+e.source+location.pathname+t,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.$model&&Object.keys(t.$model).forEach((function(e){window[e]=t.$model[e]})),Object.keys(t).forEach((function(r){if(!r.startsWith("$")){var o=document.querySelector(n.getFragmentContainerSelector(e,r));o&&n.setEvalInnerHtml(o,t[r])}})),n.loadAssetsOnFragment(e.name)}))},n.getFragmentContainerSelector=function(e,n){return"main"===n?'[puzzle-fragment="'+e.name+'"]':'[puzzle-fragment="'+e.name+'"][fragment-partial="'+n+'"]'},n.prepareQueryString=function(e){var n=Object.assign(location.search.slice(1).split("&").reduce((function(e,n){var t=n.split("="),r=t[0],o=t[1];return void 0!==o&&(e[r]=o),e}),{}),e);return Object.keys(n).reduce((function(e,t){return e+"&"+t+"="+n[t]}),"?__renderMode=stream")},n.setEvalInnerHtml=function(e,n){e.innerHTML=n,Array.from(e.querySelectorAll("script")).forEach((function(e){var n=document.createElement("script");Array.from(e.attributes).forEach((function(e){return n.setAttribute(e.name,e.value)})),n.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(n,e)}))},n.onVariables=function(e,n,t){window[n]=t},n.createLoadQueue=function(e){var t=[];return e.forEach((function(e){e.preLoaded||(e.preLoaded=!0,e.defer=!0,e.dependent&&e.dependent.forEach((function(e){var r=n.__pageConfiguration.dependencies.filter((function(n){return n.name===e}))[0];r&&!r.preLoaded&&-1===t.indexOf(r)&&(t.push(r),r.preLoaded=!0)})),-1===t.indexOf(e)&&t.push(e))})),t},n.__replace=function(e,n){var t=window.document.querySelector(n),r=t.innerHTML;t.parentNode.removeChild(t),window.document.querySelector(e).innerHTML=r},n.onIntersection=function(e,t){var r=this;e.some((function(e){if(e.isIntersecting){var o=e.target,i=o.getAttribute("puzzle-fragment"),u=n.__pageConfiguration.fragments.find((function(e){return e.name===i}));return u&&(console.log(e,"LOADING",i),r.asyncLoadFragment(u),t.unobserve(o)),u}}))},n.isIntersectionObserverSupported=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},i([s.on(c.EVENT.ON_CONFIG),u("design:type",Function),u("design:paramtypes",[String]),u("design:returntype",void 0)],n,"config",null),i([s.on(c.EVENT.ON_FRAGMENT_RENDERED),u("design:type",Function),u("design:paramtypes",[String,String,String]),u("design:returntype",void 0)],n,"load",null),i([s.on(c.EVENT.ON_FRAGMENT_RENDERED),u("design:type",Function),u("design:paramtypes",[String]),u("design:returntype",void 0)],n,"loadAssetsOnFragment",null),i([s.on(c.EVENT.ON_PAGE_LOAD),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],n,"pageLoaded",null),i([s.on(c.EVENT.ON_PAGE_LOAD),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],n,"asyncComponentRender",null),i([s.on(c.EVENT.ON_VARIABLES),u("design:type",Function),u("design:paramtypes",[String,String,Object]),u("design:returntype",void 0)],n,"onVariables",null),n}(a.Module);n.Core=d},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.loadJs=function(e){var n=null,t=window.document.createElement("script");return t.type="text/javascript",t.attributes["puzzle-asset"]=e.name,t.src=e.link,t.defer=e.defer||!1,t.crossOrigin="anonymous",e.defer||(n=new Promise((function(e){t.onload=function(){e()}}))),window.document.body.appendChild(t),n},e.loadJsSeries=function(n){for(var t,r=function(r,o){o=o.then((function(){return new Promise((function(t){var o=e.loadJs(n[r]);o?o.then((function(){t()})):t()}))})),t=o},o=0,i=Promise.resolve();o<n.length;o++)r(o,i),i=t},e}();n.AssetHelper=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(3),i=t(5);r={Core:i.Core},o.PuzzleJs.inject(r),window.PuzzleJs=o.PuzzleJs}]);